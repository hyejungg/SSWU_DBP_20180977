## 컴퓨터공학과 20180977 김혜정

# 중간과제 회고

### 개발 환경 소개
내가 개발을 위해 사용한 것들은 다음과 같다.
//(W05)는 5주차의 내용을 의미

1. 웹서버 : Appach Web Server / 우분투 OS 
- 조금 더 실무와 가까운 환경에서 과제를 진행하고 싶다는 생각이 들어 가상머신에 리눅스 기반의 우분투 OS를 설치한 서버를 만들고, 이 위에 Appach 서비스를 설치하여 웹 서버를 구현하였다. (W05)
- bitnami를 이용하면 bitnami에 웹서버와 mysql 서버가 같이 깔려서 manager Tool를 이용하면 손 쉽게 각 서버를 중지, 재가동이 가능하여 편리하고 윈도우 환경에서 개발이 가능하다는 점이 장점이지만 가상머신을 이용하여 별도의 서버를 만들더라도 윈도우 환경에서 개발을 하기 위해 SSH를 이용하여 서버에 원격 접속하여 개발할 수 있기 때문에 큰 문제 없이 진행할 수 있었다.

2. MariaDB
- MariaDB와 MySQL은 크게 다르지 않다. MySQL이 상용화되면서 MySQL 기반의 MariaDB가 만들어졌다. 
- MySQL 엔터프라이즈 버전과 MariaDB의 기능을 비교했을 때 MariaDB가 무료로 사용할 수 있는 기능이 많다.
기술 지원에 있어서도 MariaDB가 오라클에 비해 대응이 미흡하지 않다.
// http://www.gurubee.net/lecture/3767  ... 2017년 기준, 한 블로거가 MySQL과 MariaDB를 비교분석함
- 성능 차이도 미미하고 무엇보다 MariaDB을 이용하더라도 mysql 콘솔을 사용하여 접속이 가능하다.
- 그렇기 때문에, MariaDB와 MySQL 중 어떤 데이터베이스를 선택할지 고민하다가 MariaDB를 선택하였다. 앞서 실습을 진행하면서 mysql 콘솔은 이미 설치를 한 상황이였기 때문에 이를 그대로 이용하지만, 데이터베이스는 MariaDB로 진행한다.

3. PHP
- 웹서버와 DB를 연결하여 동적인 페이지를 생성하기 위해 사용한다.

4. HTML, CSS
- 웹 페이지를 작성하기 위해 사용한다. 

5. 개발 툴 (Visual Studio Code)
- 현재 설치한 가상머신의 우분투 서버는 별도의 gui를 설치하지 않았기 때문에 vi로 개발하는데 어려움이 있다.
- 윈도우 환경에서 visual studio code를 이용하여 해당 플롯폼 안에 있는 확장 기능을 통해 가상 머신의 원격 접속하여 개발을 진행한다.

### 웹페이지 소개 //발견한 정보 3개 소개

#### !!!sakila DB 이용하여 대여 시스템 웹페이지 제작
- https://dev.mysql.com/doc/index-other.html //mysql에서 제공하는 샘플 데이터베이스 
- 제공하는 샘플데이터 중 sakila database를 선택했다. 
- 공식 문서의 sakila database에 관한 설명에 의하면 2006년에 개발된 샘플 데이터베이스로 온라인 DVD 상점을 나타낼 수 있도록 만들어진 데이터베이스라고 설명되어 있다. 
- 이름이 끌려서 해당 db에 관련 문서를 보고 테이블들이 유의미한 정보를 만들기 적합해보여서 선택했다.

![KakaoTalk_20201101_220108808](https://user-images.githubusercontent.com/68772751/97805652-d7714c80-1c9a-11eb-8415-ce85858957c7.jpg)

- 해당 테이블을 쿼리로 입력하기 전에 분석하는 작업을 진행하였다. 
- 구조를 파악하고, 구조 내 칼럼들과 PK, FK, 관계들을 보고 어떤 정보를 보여줄지 생각하였다.
------
먼저 sakila database는 employees database와 달리 github로 내려받을 수 없다. zip을 내려받아서 source라는 sql 명령어를 통해 직접 데이터베이스를 채워줘야 한다. 

우선 host컴퓨터(윈도우)에 db를 zip파일로 내려받았다. 그리고 이 host컴에 있는걸 어떻게 가상컴으로 옮길까 고민함.

1. 원격 접속해서 옮기자.
- 호스트 컴퓨터에서 원격 접속해서 가상 머신으로 옮기기 위해 ssh 설치 후 포트 연결, 방화벽 열어두고 명령어를 통해 원격 접속을 시도했지만 실패.
```
실습을 모두 끝낸 후 회고를 작성하는데 미련이 남아서 동기에게 물어본 결과, 
다른 동기가 직접 진행했던 방법으로 하니 원격으로 보내는 것을 성공하여 공유함!!

!!!!scp 라고 하는 명령툴 이용!!!!
* scp는 ssh protocol를 통해 pc 간 파일 전송을 할 수 있는 툴이다! 리눅스에서는 ssh를 기본으로 사용이 가능하고, 윈도우는 ssh를 설치해주어야 함! telnet만 기본 설치되어 있음!

scp [file path] [account]@[remote IP]:[target path]
```
![1](https://user-images.githubusercontent.com/68772751/97805975-ad208e80-1c9c-11eb-80ca-7f832d62f792.JPG)
//폴더 채 옮기진 못하고, 각 파일을 별도로 전송해주어야 함

![44](https://user-images.githubusercontent.com/68772751/97806007-dc370000-1c9c-11eb-9ec4-8d23bb4d7c85.JPG)
//원격으로 접속해서 보았을 때도, vm에서 직접 확인했을 때도 잘 전송됐음을 확인할 수 있음

2. git에 올려서 옮기자. 
- 지금 호스트 컴퓨터에 bitnami라는 웹서버를 우리는 앞서 실습에서 진행했다. bitnami로 작업했던 곳에 git을 설치했기 때문에 여기로 들어가서 git에 올려 다시 vs code로 넘어와 내려받아서 개발을 진행했다.

![해결1](https://user-images.githubusercontent.com/68772751/97806063-186a6080-1c9d-11eb-8f2f-316b9d812001.JPG)
//해당 db를 채울 때 당연하겠지만 스키마부터 해줘야 오류가 나지 않는다! 스키마도 없는데 데이터를 채우면 당연히 .. 오류 ... 난다........

### 동작 화면 영상
내가 선정한 유의미한 정보
1. 메인화면
- 랜덤으로 dvd명/dvd설명/해당dvd언어/대여가능 수 를 보여줌
  // film 테이블, inventory 테이블, language 테이블 조인
2. DVD 대여 가능한 영화 목록
- 대여 가능한 수가 가장 많은 dvd 목록 10개
  // film 테이블, inventory 테이블, language 테이블 조인
- 영화 시간이 가장 짧은 dvd 10개
  // film 테이블, language 테이블 조인
- 영화 시간이 가장 긴 dvd 10개
  // film 테이블, language 테이블 조인
3. 카테고리별 영화 목록
- 카테고리별 대여 가능한 dvd 목록 10개를 랜덤으로 추천
  // film 테이블, category 테이블, film_category 테이블 조인
4. 배우명 검색하며 해당 배우의 필모(dvd) 목록 보여줌
  // film 테이블, actor 테이블, film_actor 테이블 조인

동영상링크
- https://youtu.be/B5totMMFxwc

### 참고사이트
- http://www.webmadang.net/database/database.do?action=read&boardid=4003&page=1&seq=15 //sql문에서 random으로 행 선택하는 방법
- https://medium.com/@john_analyst/%EC%9C%88%EB%8F%84%EC%9A%B0%EC%97%90%EC%84%9C-%EC%9A%B0%EB%B6%84%ED%88%AC-%EC%84%9C%EB%B2%84%EB%A1%9C-%ED%8C%8C%EC%9D%BC-%EC%A0%84%EC%86%A1%ED%95%98%EA%B8%B0-57b7076adae9 //윈도우에서 우분투 서버로 파일 원격 전송하기
- https://hanee24.github.io/2017/12/21/how-to-upload-image-with-github-readme //github에 이미지 올리기

### 회고 (*)/(-)/(!)

* (+) : 그냥 실습하는 것보다 배운 점이 많은 것 같다. 그간의 수업 과정에 대한 이해가 없었다면 과제 수행할 때 버벅거림이 많았을거라 생각된다. 과제를 수행하면서 수업 실습했을 때 사용했던 데이터베이스가 아닌 다른 데이터베이스를 이용하다보니 데이터베이스 분석부터 어떤 정보를 보여주는게 유의미할지 생각하는 시간을 가져볼 수 있어 좋았다. 그냥 수업 시간에서는 어떤 테이블들이 관계를 이뤘고, 어떤 pk를 가졌으며 등등 이런 부분들은 모두 설명을 해주시고 넘어가기 때문에 별로 분석할 기회가 없었던 것 같은데 직접 해보니 하나하나 뜯어보다보니 직접 프로그래밍할 때보다 분석할 때가 더 시간이 오래 걸린 것 같다. 유의미한 정보를 얻어내는 건 생각보다 더 어렵고, 깊은 시간을 필요로 하는구나 라는 생각이 들어 새삼 데이터 전문가들이 대단하다는 생각이 들었다. 특히 여러 오류를 직접 만나면서 구글링을 통해 해결해가는 과정에서 많이 배운 것 같다. 또 개발 환경도 가상 서버(리눅스)를 사용하여서 원격 접속이나 원격 전송 같은 점은 새로 배울 수 있어서 좋았다. 
* (-) : 
* (!) : 더 많은 유의미한 정보를 뽑아낼 수 있을 것 같다. 이를테면 직원테이블이 있으니 로그인 폼을 만들어서 로그인하면 어떤 고객이 어떤 dvd를 대여했고, 이 dvd를 언제까지 반납해야 하는지 보여주는 정보도 보여줄 수 있을 것 같고, 해당 직원의 매장에 대한 고객 정보도 보여줄 수 있을 것 같다. 물론 테이블의 칼럼들과 pk 들을 더 세세하게 보고 가능한지 판단해야겠지만, 테이블들이 워낙 많기 때문에 다양한 정보들을 더 보여줄 수 있을 것 같다. employees가 아닌 새로운 데이터베이스를 이용하여 개발을 진행해볼 수 있어서 좋았고, 무엇보다 여지껏 배운 내용을 이용하여 내 힘으로 프로젝트처럼 진행해볼 수 있어서 좋았다. 확실히 직접 해보는 과정이 더 기억에 오래 남는 것 같다.
다음 번에 기회가 된다면, 그 때는 캐글에서 데이터를 데려와서 해보아야지.

* 프로그래밍 과정에서 문제 발생 시 해결과정 : 
- get방식을 통해 form 값을 가져올 때 isset()을 이용하여 하니 처음에 get 값이 없을 때에도 오류가 뜨지 않는다!! 
// category_film_list.php
```php
$category_list = '';
if(isset($_GET['category'])){
    $filtered_category = mysqli_real_escape_string($link, $_GET['category']);
    .......
}
```
